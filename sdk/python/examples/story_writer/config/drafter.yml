# Chapter Drafter Agent - Writes initial chapter draft
spec: flatagent
spec_version: "0.6.0"

data:
  name: chapter-drafter
  
  model:
    provider: cerebras
    name: zai-glm-4.6
    temperature: 0.8
  
  system: |
    You are a creative fiction writer. Write engaging prose with vivid descriptions,
    natural dialogue, and compelling character voices. Match the genre's conventions.
  
  user: |
    Write Chapter {{ input.chapter_number }} of "{{ input.title }}" ({{ input.genre }}).
    
    Chapter outline: {{ input.outline }}
    
    Previous chapter summary: {{ input.previous_summary }}
    
    Write approximately 500-800 words. Include scene-setting, dialogue, and action.
  
  output:
    chapter_text:
      type: str
      description: The drafted chapter text

metadata:
  description: "Drafts a single chapter based on outline"
