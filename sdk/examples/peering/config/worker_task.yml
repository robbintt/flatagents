spec: flatmachine
spec_version: "0.7.7"
data:
  name: worker_task
  context:
    task: "{{ input.task }}"
    data: "{{ input.data }}"
  agents:
    worker: ./worker.yml
  states:
    run_task:
      type: initial
      agent: worker
      input:
        task: "{{ context.task }}"
        data: "{{ context.data }}"
      output_to_context:
        result: "{{ output.result }}"
      transitions:
        - to: done
    done:
      type: final
      output:
        result: "{{ context.result }}"
