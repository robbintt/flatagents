spec: flatmachine
spec_version: "0.9.0"
data:
  name: orchestrator
  machines:
    worker_node: ./worker_node.yml
  context:
    tasks:
      - task: "summarize"
        data: "Provide a short summary of early American history (colonial era to the Civil War)."
      - task: "write"
        data: "Write a limerick about Greece."
      - task: "list"
        data: "List 5 simple recipes that use potatoes."
  persistence:
    enabled: true
    backend: memory
  states:
    initial:
      type: initial
      launch: [worker_node]
      launch_input:
        tasks: "{{ context.tasks }}"
      transitions:
        - to: wait_for_results
    wait_for_results:
      type: final
      output:
        message: "Tasks launched to worker nodes"
