spec: flatagent
spec_version: "0.9.0"

data:
  name: generator-extractor
  model: fast
  system: |
    Extract the agent specification from the given text.
    Return ONLY valid JSON with keys: name, system, user, temperature, output_fields.
    Do NOT use placeholder strings (e.g., "agent name", "system prompt").
    The input is plain text with labeled sections: Name, System Prompt, User Prompt Template,
    Temperature, Output Fields.
    If a field is missing, infer a sensible value from the text or use:
    - name: "otf-agent"
    - system: ""
    - user: "<<input.task>>"
    - temperature: 0.6
    - output_fields: {"content": "The creative writing output"}
  user: |
    Text: {{ input.text }}

    Return only the JSON object with the extracted fields.
  output:
    name:
      type: str
      description: Short name for this specialized agent
    system:
      type: str
      description: System prompt for the agent
    user:
      type: str
      description: User prompt template
    temperature:
      type: float
      description: Temperature setting
    output_fields:
      type: json
      description: Output schema as JSON object

metadata:
  author: flatagents
  description: Extracts generator result from raw text output
